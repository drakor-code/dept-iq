# ูุธุงู ุฅุฏุงุฑุฉ ุงููุณุชุฎุฏููู ูุงููุตุงุฏูุฉ - ุฎุทุฉ ุงูุชุทููุฑ

## ๐ ูุธุฑุฉ ุนุงูุฉ ุนูู ุงููุธุงู

### ๐ฏ ุงููุชุทูุจุงุช ุงูุฃุณุงุณูุฉ:
1. **ุชุณุฌูู ุงูุฏุฎูู ููุท** - ูุง ููุฌุฏ ุชุณุฌูู ุนุงู
2. **ุงูุฃุฏูู ููุดุฆ ุงูุญุณุงุจุงุช** ูู ุตูุญุฉ ุงููุณุชุฎุฏููู
3. **ูุธุงู ุตูุงุญูุงุช** (ุฃุฏูู/ููุธู)
4. **ุงูุชุญูู ุจุฎุทูุชูู** (ูููุฉ ูุฑูุฑ + ุฑูุฒ ุงูุฅูููู)
5. **ุงุณุชุฑุฏุงุฏ ูููุฉ ุงููุฑูุฑ** ุนุจุฑ ุงูุฅูููู

---

## ๐๏ธ ูุงุนุฏุฉ ุงูุจูุงูุงุช - ุงูุฌุฏุงูู ุงููุทููุจุฉ

### 1. ุฌุฏูู ุงููุณุชุฎุฏููู (users)
```sql
- id (UUID, Primary Key)
- email (String, Unique)
- username (String, Unique) 
- password (String, Hashed)
- full_name (String)
- role (Enum: 'admin', 'employee')
- is_active (Boolean, Default: true)
- created_at (Timestamp)
- updated_at (Timestamp)
- created_by (UUID, Foreign Key to users.id)
```

### 2. ุฌุฏูู ุฑููุฒ ุงูุชุญูู (verification_codes)
```sql
- id (UUID, Primary Key)
- user_id (UUID, Foreign Key to users.id)
- code (String, 6 digits)
- type (Enum: 'login', 'password_reset')
- expires_at (Timestamp)
- is_used (Boolean, Default: false)
- created_at (Timestamp)
```

### 3. ุฌุฏูู ุฌูุณุงุช ุงููุณุชุฎุฏููู (user_sessions)
```sql
- id (UUID, Primary Key)
- user_id (UUID, Foreign Key to users.id)
- session_token (String, Unique)
- expires_at (Timestamp)
- created_at (Timestamp)
- last_activity (Timestamp)
```

---

## ๐ ูููู ุงููููุงุช ุงููุทููุจ

### ๐ง ูุงุนุฏุฉ ุงูุจูุงูุงุช ูุงูุฃููุงุน
```
src/
โโโ db/
โ   โโโ schema.ts           # ุชุนุฑูู ุฌุฏุงูู Drizzle
โ   โโโ drizzle.ts         # ุงุชุตุงู ูุงุนุฏุฉ ุงูุจูุงูุงุช
โ   โโโ migrations/        # ูููุงุช ุงููุฌุฑุฉ
โโโ types/
โ   โโโ auth.ts            # ุฃููุงุน ุงููุตุงุฏูุฉ
โ   โโโ user.ts            # ุฃููุงุน ุงููุณุชุฎุฏููู
โ   โโโ api.ts             # ุฃููุงุน API responses
```

### ๐ ูุธุงู ุงููุตุงุฏูุฉ
```
src/
โโโ lib/
โ   โโโ auth/
โ   โ   โโโ password.ts    # ุชุดููุฑ ูููุงุช ุงููุฑูุฑ
โ   โ   โโโ session.ts     # ุฅุฏุงุฑุฉ ุงูุฌูุณุงุช
โ   โ   โโโ verification.ts # ุฑููุฒ ุงูุชุญูู
โ   โ   โโโ permissions.ts # ูุธุงู ุงูุตูุงุญูุงุช
โ   โโโ email/
โ   โ   โโโ sender.ts      # ุฅุฑุณุงู ุงูุฅููููุงุช
โ   โ   โโโ templates.ts   # ููุงูุจ ุงูุฅููููุงุช
โ   โโโ utils/
โ       โโโ validation.ts  # ุงูุชุญูู ูู ุงูุจูุงูุงุช
โ       โโโ crypto.ts      # ุงูุชุดููุฑ ูุงูุฃูุงู
```

### ๐ API Routes
```
src/
โโโ app/
โ   โโโ api/
โ       โโโ auth/
โ       โ   โโโ login/
โ       โ   โ   โโโ route.ts       # ุชุณุฌูู ุงูุฏุฎูู
โ       โ   โโโ verify/
โ       โ   โ   โโโ route.ts       # ุงูุชุญูู ูู ุงูุฑูุฒ
โ       โ   โโโ logout/
โ       โ   โ   โโโ route.ts       # ุชุณุฌูู ุงูุฎุฑูุฌ
โ       โ   โโโ forgot-password/
โ       โ       โโโ route.ts       # ูุณูุช ูููุฉ ุงููุฑูุฑ
โ       โโโ users/
โ       โ   โโโ route.ts           # CRUD ุงููุณุชุฎุฏููู
โ       โ   โโโ [id]/
โ       โ       โโโ route.ts       # ุนูููุงุช ูุณุชุฎุฏู ูุญุฏุฏ
โ       โโโ verification/
โ           โโโ send/
โ           โ   โโโ route.ts       # ุฅุฑุณุงู ุฑูุฒ ุงูุชุญูู
โ           โโโ resend/
โ               โโโ route.ts       # ุฅุนุงุฏุฉ ุฅุฑุณุงู ุงูุฑูุฒ
```

### ๐จ ูุงุฌูุฉ ุงููุณุชุฎุฏู
```
src/
โโโ app/
โ   โโโ login/
โ   โ   โโโ page.tsx              # ุตูุญุฉ ุชุณุฌูู ุงูุฏุฎูู
โ   โโโ verify/
โ   โ   โโโ page.tsx              # ุตูุญุฉ ุงูุชุญูู ูู ุงูุฑูุฒ
โ   โโโ forgot-password/
โ   โ   โโโ page.tsx              # ุทูุจ ุงุณุชุฑุฏุงุฏ ูููุฉ ุงููุฑูุฑ
โ   โ   โโโ reset/
โ   โ       โโโ page.tsx          # ุฅุนุงุฏุฉ ุชุนููู ูููุฉ ุงููุฑูุฑ
โ   โโโ dashboard/
โ       โโโ users/
โ           โโโ page.tsx          # ุฅุฏุงุฑุฉ ุงููุณุชุฎุฏููู (ูุญุฏุซุฉ)
โโโ components/
โ   โโโ auth/
โ   โ   โโโ LoginForm.tsx         # ูููุฐุฌ ุชุณุฌูู ุงูุฏุฎูู
โ   โ   โโโ VerificationForm.tsx  # ูููุฐุฌ ุงูุชุญูู
โ   โ   โโโ ForgotPasswordForm.tsx # ูููุฐุฌ ูุณูุช ูููุฉ ุงููุฑูุฑ
โ   โ   โโโ ResetPasswordForm.tsx # ูููุฐุฌ ุฅุนุงุฏุฉ ุชุนููู ูููุฉ ุงููุฑูุฑ
โ   โโโ users/
โ       โโโ UserForm.tsx          # ูููุฐุฌ ุฅุถุงูุฉ/ุชุนุฏูู ูุณุชุฎุฏู
โ       โโโ UserTable.tsx         # ุฌุฏูู ุงููุณุชุฎุฏููู
โ       โโโ UserPermissions.tsx   # ุฅุฏุงุฑุฉ ุงูุตูุงุญูุงุช
```

---

## ๐ ุชุฏูู ุงูุนูููุงุช (Workflows)

### 1. ุฅูุดุงุก ูุณุชุฎุฏู ุฌุฏูุฏ (ุจูุงุณุทุฉ ุงูุฃุฏูู)
```
1. ุงูุฃุฏูู ูุฏุฎู: ุงูุฅููููุ ุงูููุฒุฑุ ูููุฉ ุงููุฑูุฑุ ุงูุงุณู ุงููุงููุ ุงูุฏูุฑ
2. ุงูุชุญูู ูู ุนุฏู ูุฌูุฏ ุงูุฅูููู/ุงูููุฒุฑ ูุณุจูุงู
3. ุชุดููุฑ ูููุฉ ุงููุฑูุฑ
4. ุญูุธ ุงููุณุชุฎุฏู ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
5. ุฅุฑุณุงู ุฅูููู ุชุฑุญูุจ ูููุณุชุฎุฏู ุงูุฌุฏูุฏ (ุงุฎุชูุงุฑู)
```

### 2. ุชุณุฌูู ุงูุฏุฎูู
```
1. ุงููุณุชุฎุฏู ูุฏุฎู: ุงูุฅูููู/ุงูููุฒุฑ + ูููุฉ ุงููุฑูุฑ
2. ุงูุชุญูู ูู ูุฌูุฏ ุงููุณุชุฎุฏู ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
3. ุงูุชุญูู ูู ุตุญุฉ ูููุฉ ุงููุฑูุฑ
4. ุฅูุดุงุก ุฑูุฒ ุชุญูู (6 ุฃุฑูุงู)
5. ุฅุฑุณุงู ุงูุฑูุฒ ููุฅูููู
6. ุชูุฌูู ุงููุณุชุฎุฏู ูุตูุญุฉ ุงูุชุญูู
```

### 3. ุงูุชุญูู ูู ุงูุฑูุฒ
```
1. ุงููุณุชุฎุฏู ูุฏุฎู ุฑูุฒ ุงูุชุญูู
2. ุงูุชุญูู ูู ุตุญุฉ ุงูุฑูุฒ ูุงูุชูุงุก ุตูุงุญูุชู
3. ุฅูุดุงุก ุฌูุณุฉ ูุณุชุฎุฏู (session)
4. ุชูุฌูู ุงููุณุชุฎุฏู ูููุญุฉ ุงูุชุญูู ุญุณุจ ุตูุงุญูุงุชู
```

### 4. ูุณูุช ูููุฉ ุงููุฑูุฑ
```
1. ุงููุณุชุฎุฏู ูุฏุฎู ุงูุฅูููู
2. ุงูุชุญูู ูู ูุฌูุฏ ุงูุฅูููู ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
3. ุฅูุดุงุก ุฑูุฒ ุชุญูู ูุฅุนุงุฏุฉ ุชุนููู ูููุฉ ุงููุฑูุฑ
4. ุฅุฑุณุงู ุงูุฑูุฒ ููุฅูููู
5. ุงููุณุชุฎุฏู ูุฏุฎู ุงูุฑูุฒ + ูููุฉ ุงููุฑูุฑ ุงูุฌุฏูุฏุฉ
6. ุชุญุฏูุซ ูููุฉ ุงููุฑูุฑ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
```

---

## ๐ก๏ธ ูุธุงู ุงูุตูุงุญูุงุช

### ุงูุฃุฏูู ูุฑู:
- โ ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ
- โ ุณุฌู ุงูุนููุงุก  
- โ ุณุฌู ุงูููุฑุฏูู
- โ ุงูุชูุงุฑูุฑ
- โ ุฅุฏุงุฑุฉ ุงููุณุชุฎุฏููู
- โ ุงูุฅุนุฏุงุฏุงุช
- โ ุงูุฏุนู ุงูููู

### ุงูููุธู ูุฑู:
- โ ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ
- โ ุณุฌู ุงูุนููุงุก
- โ ุณุฌู ุงูููุฑุฏูู
- โ ุงูุชูุงุฑูุฑ
- โ ุฅุฏุงุฑุฉ ุงููุณุชุฎุฏููู  
- โ ุงูุฅุนุฏุงุฏุงุช
- โ ุงูุฏุนู ุงูููู

---

## ๐ง ุงูุชูููุงุช ูุงูููุชุจุงุช ุงููุทููุจุฉ

### ูุงุนุฏุฉ ุงูุจูุงูุงุช:
- **Drizzle ORM** - ููุชุนุงูู ูุน ูุงุนุฏุฉ ุงูุจูุงูุงุช
- **Neon PostgreSQL** - ูุงุนุฏุฉ ุงูุจูุงูุงุช ุงูุณุญุงุจูุฉ
- **bcryptjs** - ูุชุดููุฑ ูููุงุช ุงููุฑูุฑ

### ุงููุตุงุฏูุฉ ูุงูุฃูุงู:
- **jose** - ููุชุนุงูู ูุน JWT tokens
- **crypto** - ูุฅูุดุงุก ุฑููุฒ ุงูุชุญูู
- **zod** - ููุชุญูู ูู ุตุญุฉ ุงูุจูุงูุงุช

### ุงูุฅูููู:
- **Resend** ุฃู **Nodemailer** - ูุฅุฑุณุงู ุงูุฅููููุงุช
- **React Email** - ูุชุตููู ููุงูุจ ุงูุฅููููุงุช

### ุงููุงุฌูุฉ:
- **React Hook Form** - ูุฅุฏุงุฑุฉ ุงูููุงุฐุฌ
- **Zod** - ููุชุญูู ูู ุงูุจูุงูุงุช
- **ShadCN/UI** - ููููุงุช ุงููุงุฌูุฉ (ููุฌูุฏ ูุณุจูุงู)

---

## ๐ ูุชุบูุฑุงุช ุงูุจูุฆุฉ ุงููุทููุจุฉ (.env)

```env
# Database
DATABASE_URL="postgresql://..."

# JWT Secret
JWT_SECRET="your-super-secret-jwt-key"

# Email Service
RESEND_API_KEY="re_..."
FROM_EMAIL="noreply@yourapp.com"

# App Settings
NEXTAUTH_URL="http://localhost:3000"
NEXTAUTH_SECRET="your-nextauth-secret"

# Verification Code Settings
VERIFICATION_CODE_EXPIRY_MINUTES=10
MAX_LOGIN_ATTEMPTS=5
```

---

## ๐ ุฎุทุฉ ุงูุชูููุฐ ุงูููุชุฑุญุฉ

### ุงููุฑุญูุฉ 1: ุฅุนุฏุงุฏ ูุงุนุฏุฉ ุงูุจูุงูุงุช
1. ุชุตููู schema ูู `src/db/schema.ts`
2. ุฅุนุฏุงุฏ migrations
3. ุชุนุฑูู types ูู `src/types/`

### ุงููุฑุญูุฉ 2: ูุธุงู ุงููุตุงุฏูุฉ ุงูุฃุณุงุณู
1. ุฅูุดุงุก API routes ูููุตุงุฏูุฉ
2. ุชุทููุฑ ููุชุจุงุช ุงูุชุดููุฑ ูุงูุฌูุณุงุช
3. ุฅุนุฏุงุฏ ูุธุงู ุฅุฑุณุงู ุงูุฅููููุงุช

### ุงููุฑุญูุฉ 3: ูุงุฌูุฉ ุงููุณุชุฎุฏู
1. ุชุทููุฑ ุตูุญุงุช ุชุณุฌูู ุงูุฏุฎูู ูุงูุชุญูู
2. ุชุญุฏูุซ ุตูุญุฉ ุฅุฏุงุฑุฉ ุงููุณุชุฎุฏููู
3. ุชุทุจูู ูุธุงู ุงูุตูุงุญูุงุช ูู Sidebar

### ุงููุฑุญูุฉ 4: ุงูุงุฎุชุจุงุฑ ูุงูุชุญุณูู
1. ุงุฎุชุจุงุฑ ุฌููุน ุงูุนูููุงุช
2. ุชุญุณูู ุงูุฃูุงู
3. ุฅุถุงูุฉ ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก

---

ูู ูุฐุง ุงูุชุตูุฑ ูุชุทุงุจู ูุน ูุง ุชุฑูุฏูุ ุฃู ุชุฑูุฏ ุชุนุฏูู ุฃู ุฅุถุงูุฉ ุดูุก ูุนููุ